; Generated by ./generate-dune-rules
; For adding tests, read the instructions in the Makefile.
(rule
 (targets ordering.txt)
 (deps ordering_old.atd ordering_new.atd)
 (action
  (with-accepted-exit-codes
    0
    (with-outputs-to %{targets}
      (run %{bin:atddiff} %{deps} --exit-success --no-locations -f json)))))

(rule
 (alias runtest)
 (deps ordering.txt)
 (action (diff ordering.expected.txt ordering.txt)))

(rule
 (targets same_hash.txt)
 (deps same_hash_old.atd same_hash_new.atd)
 (action
  (with-accepted-exit-codes
    0
    (with-outputs-to %{targets}
      (run %{bin:atddiff} %{deps} --exit-success --no-locations -f json)))))

(rule
 (alias runtest)
 (deps same_hash.txt)
 (action (diff same_hash.expected.txt same_hash.txt)))

(rule
 (targets simple.txt)
 (deps simple_old.atd simple_new.atd)
 (action
  (with-accepted-exit-codes
    0
    (with-outputs-to %{targets}
      (run %{bin:atddiff} %{deps} --exit-success --no-locations -f json)))))

(rule
 (alias runtest)
 (deps simple.txt)
 (action (diff simple.expected.txt simple.txt)))

